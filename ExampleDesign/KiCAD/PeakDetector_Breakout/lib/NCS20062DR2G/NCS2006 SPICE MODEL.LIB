* BEGIN MODEL NCS2006
* MODEL FEATURES INCLUDE OUTPUT SWING, OUTPUT CURRENT
* THROUGH THE SUPPLY RAILS, RAIL-TO-RAIL OUTPUT STAGE,
* CMR AND VOS SENSITIVE TO DIFFERENT REGIONS OF INPUT
* COMMON MODE VOLTAGE, OUTPUT CURRENT LIMIT, SLEW RATE,
* OUTPUT SWING VERSUS CURRENT, OPEN LOOP GAIN AND PHASE
* WITH RL AND CL EFFECTS, OUTPUT IMPEDANCE VS FREQUENCY,
* POWER SUPPLY REJECTION WITH FREQUENCY EFFECTS,
* INPUT VOLTAGE NOISE WITH 1/F, INPUT CURRENT NOISE,
* INPUT BIAS CURRENT WITH TEMPERATURE EFFECTS, INPUT
* CM AND DIFF CAPACITANCE, INPUT COMMON MODE RANGE,
* OFFSET TEMPERATURE EFFECTS, INPUT AND OUTPUT CLAMPS
* TO THE RAILS, AND QUIESCENT CURRENT.
* MODEL TOTAL SUPPLY VOLTAGE RANGE IS 1.8 TO 5.5 V.
* MODEL TEMP RANGE IS -40 TO +125 DEG C.
* NOTE THAT MODEL IS FUNCTIONAL OVER THIS RANGE BUT
* NOT ALL PARAMETERS TRACK THOSE OF THE REAL PART.
*
* NOTE - FOR ACCURATE BIAS CURRENTS AT ROOM AND COLD
* SET THE SPICE ANALYSIS OPTIONS AS FOLLOWS :
* RELTOL 0.001 TO 0.00001 AND GMIN 1E-12 TO 1E-14.
* SET BOTH OF THESE OPTIONS AS SMALL AS WILL ALLOW
* CONVERGANCE ON YOUR SIMULATOR. IF YOU ARE USING
* LTSPICE17 ADD THE OPTIONS PLOTRELTOL=1E-4 AND
* PLOTVNTOL=1E-6 FOR MORE ACCURATE OUTPUT WAVEFORM
* PLOTTING.
*
* PINOUT ORDER +IN -1N +V -V OUT
*$
.SUBCKT NCS2006 1   2   3  4  5
Q20 195 196 112 Q
R3 197 198 2
R4 199 198 2
R10 196 200 1000
R11 201 202 1000
R12 203 3 1.025
R13 4 204 0.8
R17 205 110 1.025
R18 112 206 0.8
D7 207 0 DIN
D8 208 0 DIN
I8 0 207 12E-6
I9 0 208 12E-6
E2 112 0 4 0 1
E3 110 0 3 0 1
D9 209 0 DVN
D10 210 0 DVN
I10 0 209 0.2E-6
I11 0 210 0.2E-6
E4 211 2 209 210 0.0355
G2 212 2 213 214 5.6E-7
E5 215 0 110 0 1
E6 216 0 112 0 1
E7 217 0 VCM 0 1
R30 215 218 1E6
R31 216 219 1E6
R32 217 220 1E6
R33 0 218 100
R34 0 219 100
R35 0 220 100
E10 144 221 220 0 0.05
R36 222 VCM 1E3
R37 VCM 223 1E3
C6 215 218 200E-12
C7 216 219 200E-12
C8 217 220 400E-12
E11 224 1 219 0 -0.3
E12 212 224 218 0 0.3
E14 115 112 110 112 0.5
M1 225 113 204 204 NOUT L=3U W=1400U
M2 226 227 203 203 POUT L=3U W=1400U
M3 118 118 205 205 POUT L=3U W=1400U
M4 228 229 197 197 HVP L=3U W=600U
M5 230 231 199 199 HVP L=3U W=600U
M8 119 119 206 206 NOUT L=3U W=1400U
R43 111 227 300
R44 232 113 300
G3 114 115 233 115 3.33E-4
R45 115 114 1.3E8
R46 112 228 490
R47 112 230 490
C13 228 230 1E-15
C14 212 0 2.4E-12
C15 211 0 2.4E-12
C16 120 0 0.1E-12
D13 113 195 D
D14 234 227 D
Q15 234 201 110 QP
V18 212 229 -525E-6
M19 235 236 237 237 PIN L=6U W=500U
E17 223 0 212 0 1
E18 222 0 2 0 1
M23 236 236 237 237 PIN L=6U W=500U
V21 235 238 0
R59 120 226 0.1
R60 225 120 0.1
J1 239 212 239 J
J2 239 211 239 J
J3 211 240 211 J
J4 212 240 212 J
C21 212 231 0.05E-12
E20 144 115 230 228 1.1
R62 221 233 1E4
C23 233 115 2.0E-12
C27 227 226 200E-15
C28 225 113 200E-15
R74 4 3 2.85E5
G12 3 4 241 0 -1E-3
I20 0 242 1E-3
D20 242 0 D
V24 242 194 0.71
R75 0 194 1E6
I21 3 4 16.0E-6
E25 243 0 120 0 1
C30 114 244 20E-12
R78 244 243 3
R81 114 243 2E10
I63 0 245 1E-3
D23 245 0 DD
R307 0 245 10E6
V81 245 246 1.798
R308 0 246 2E7
E52 247 0 246 0 -0.875
R309 0 247 1E7
R312 0 246 2E7
G14 236 112 122 0 144E-6
D24 248 249 DL
V142 249 0 3
R313 0 248 3.3E7
G51 2 0 248 0 3.86E-9
I64 2 0 0.59E-12
G52 212 0 248 0 3.00E-9
I65 212 0 0.59E-12
G56 118 119 122 0 105E-6
R345 0 120 1E9
S1 120 3 120 3 VSWC
S2 114 110 114 110 VSWC
S3 112 114 112 114 VSWC
S4 250 110 250 110 VSWC
S5 112 251 112 251 VSWC
S6 4 120 4 120 VSWC
E68 116 115 VALUE = {LIMIT(V(114,115),-100,0)}
E69 117 115 VALUE = {LIMIT(V(114,115),0,100)}
R355 115 116 1E9
R356 115 117 1E9
E70 110 111 VALUE = {V(115,116)-V(118,110)}
R357 111 110 1E9
E71 232 112 VALUE = {V(117,115)-V(112,119)}
R358 112 232 1E9
E72 200 112 204 112 50
E73 202 110 203 110 50
V159 252 112 0.30
V160 110 253 0.30
V161 110 237 -1.85
E89 129 0 110 112 1
R403 0 129 1E7
R410 115 144 1E12
G58 3 4 122 0 530E-16
V170 122 0 1
E92 254 231 255 0 5.5E-4
V171 246 255 -1
E93 211 254 COUT 0 -3.5E-5
R413 0 COUT 1E9
D25 238 198 D
R417 0 255 1E12
R420 0 COUT 1E9
R430 V1 110 1E3
R431 256 V1 60E3
R432 V2 256 60E3
R433 112 V2 1E3
E97 VB1 0 VALUE = {LIMIT(V(VC2),V(VC3),99)}
R434 0 VB1 1E9
E98 VB2 0 VALUE = {LIMIT(V(VC1),-99,V(VC3))}
R435 0 VB2 1E9
E99 VC1 0 VALUE = {4*(V(V1A)-V(VCM))}
R436 0 VC1 1E9
E100 VC2 0 VALUE = {4*(V(V2A)-V(VCM))}
R437 0 VC2 1E9
E101 VC3 0 VALUE = {V(VCM)*(-1)*0.25}
R438 0 VC3 1E9
E102 VB3 0 VALUE = {LIMIT(V(VC3),V(VB2),V(VB1))}
R439 0 VB3 1E9
E103 COUT 0 VALUE = {V(VB1)+V(VB2)}
R440 0 COUT 1E9
E104 V1A 0 VALUE = {(0.75+0.125)*V(V1)}
R441 0 V1A 1E9
E105 V2A 0 VALUE = {(0.75+0.125)*V(V2)}
R442 0 V2A 1E9
S8 220 0 220 0 VSWI
S9 0 220 0 220 VSWI
R446 207 213 1.5E7
R447 0 213 1E12
R448 208 214 1.5E7
R449 0 214 1E12
E106 241 0 VALUE = {(V(194)-0.09)*(V(194)-0.09)+V(194)*4E-01}
R450 0 241 1E9
V179 250 114 0
V180 114 251 0
E109 253 239 194 0 1
E110 240 252 194 0 1
S10 230 228 257 231 VSWV
S11 230 228 231 258 VSWV
S12 230 228 257 212 VSWV
S13 230 228 212 258 VSWV
V182 110 257 -0.2
R456 257 110 1E12
V183 258 112 -0.2
R457 112 258 1E12
R458 120 5 0.1
.MODEL NOUT NMOS (LEVEL=3 PHI=0.7 TOX=2E-8 XJ=5E-7
+ TPG=1 VTO=0.5 DELTA=0.5 LD=1E-7 KP=2E-4 UO=650
+ THETA=0.1 GAMMA=0.5 NSUB=1E17 NFS=6E11 FC=0.5
+ VMAX=1E5 ETA=3E-6 KAPPA=10 PB=1 IS=1E-18)
.MODEL POUT PMOS (LEVEL=3 PHI=0.7 TOX=2E-8 XJ=5E-7
+ TPG=-1 VTO=-0.5 DELTA=0.5 LD=1E-7 KP=2E-4 UO=650
+ THETA=0.1 GAMMA=0.5 NSUB=1E17 NFS=6E11 FC=0.5
+ VMAX=1E5 ETA=3E-6 KAPPA=10 PB=1 IS=1E-18)
*.MODEL PSW PMOS KP=200U VTO=-7.5 IS=1E-18
*.MODEL NSW NMOS KP=200U VTO=7.5 IS=1E-18
.MODEL DVN D KF=1.45E-14 IS=1E-16 RS=2E6
.MODEL DIN D KF=1E-14
.MODEL PIN PMOS KP=200U VTO=-0.7
.MODEL NIN NMOS KP=200U VTO=0.7
.MODEL HVP PMOS KP=200U VTO=-0.7
.MODEL DL D IS=0.95E-12 N=1.47 XTI=3.5
.MODEL DD D CJO=0.1E-12 TT=10E-9 RS=10
.MODEL D D CJO=0.1E-12 TT=10E-9 RS=10
.MODEL J NJF VTO=-0.7 BETA=1E-4 CGS=0.03E-12
+ CGD=0.03E-12 RD=10 RS=10 IS=1E-18
.MODEL Q NPN
.MODEL QP PNP
.MODEL VSWV VSWITCH VON=-0.05 VOFF=0.05 RON=0.01 ROFF=1E9
.MODEL VSWC VSWITCH VON=0.71 VOFF=0.62 RON=10 ROFF=1E12
.MODEL VSWI VSWITCH VON=0.11 VOFF=0.02 RON=1 ROFF=1E11
.ENDS
*END MODEL NCS2006
*$
